# raw_data:
#   type: kedro_polis_classic.datasets.polis_api.PolisAPIDataset
#   report_id: null

raw_votes:
  type: pandas.CSVDataset
  filepath: data/01_raw/votes.csv
  save_args:
    index: false

raw_comments:
  type: pandas.CSVDataset
  filepath: data/01_raw/comments.csv
  save_args:
    index: false
  load_args:
    index_col: comment-id

deduped_votes:
  type: MemoryDataset

raw_vote_matrix:
  type: pandas.CSVDataset
  filepath: data/03_primary/raw_vote_matrix.csv
  save_args:
    index: true
  load_args:
    index_col: 0
  metadata:
    kedro-viz:
      preview_args:
        nrows: 10

participant_filter_mask:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/participant_filter_mask.csv
  save_args:
    index: true
  load_args:
    index_col: 0

statement_filter_mask:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/statement_filter_mask.csv
  save_args:
    index: true
  load_args:
    index_col: 0

filtered_vote_matrix:
  type: pandas.CSVDataset
  filepath: data/03_primary/filtered_vote_matrix.csv
  save_args:
    index: true
  load_args:
    index_col: 0
  metadata:
    kedro-viz:
      preview_args:
        nrows: 10

vote_heatmap_fig:
  type: plotly.JSONDataset
  filepath: data/08_reporting/vote_heatmap.json

heatmap_filepath:
  type: MemoryDataset

# PCA Subpipeline Datasets
imputed_vote_matrix:
  type: pandas.CSVDataset
  filepath: data/04_feature/imputed_vote_matrix.csv
  save_args:
    index: true
  load_args:
    index_col: 0
  metadata:
    kedro-viz:
      preview_args:
        nrows: 10

pca_components:
  type: pandas.CSVDataset
  filepath: data/05_model_input/pca_components.csv
  save_args:
    index: true
  load_args:
    index_col: 0
  metadata:
    kedro-viz:
      preview_args:
        nrows: 10

scaled_pca_components:
  type: pandas.CSVDataset
  filepath: data/04_feature/scaled_pca_components.csv
  save_args:
    index: true
  load_args:
    index_col: 0
  metadata:
    kedro-viz:
      preview_args:
        nrows: 10

pca_scatter_fig:
  type: plotly.JSONDataset
  filepath: data/08_reporting/pca_scatter_plot.json

participant_projections:
  type: MemoryDataset

clusterable_mask:
  type: MemoryDataset

labels:
  type: MemoryDataset
