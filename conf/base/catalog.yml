# raw_data:
#   type: kedro_polis_classic.datasets.polis_api.PolisAPIDataset
#   report_id: null

raw_votes:
  type: pandas.CSVDataset
  filepath: data/01_raw/votes.csv
  save_args:
    index: false

raw_comments:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/01_raw/comments.csv
  save_args:
    index: false
  load_args:
    index_col: comment-id
  metadata:
    index_in_preview: true

deduped_votes:
  type: MemoryDataset

raw_vote_matrix:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/03_primary/raw_vote_matrix.csv
  metadata:
    index_in_preview: true
    save_load_index: true

raw_participants_meta:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/03_primary/raw_participants_meta.csv
  metadata:
    index_in_preview: true
    save_load_index: true

participant_filter_mask:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/02_intermediate/participant_filter_mask.csv
  metadata:
    index_in_preview: true
    save_load_index: true

statement_filter_mask:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/02_intermediate/statement_filter_mask.csv
  metadata:
    index_in_preview: true
    save_load_index: true

filtered_vote_matrix:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/03_primary/filtered_vote_matrix.csv
  metadata:
    index_in_preview: true
    save_load_index: true

vote_heatmap_fig:
  type: plotly.JSONDataset
  filepath: data/08_reporting/vote_heatmap.json

heatmap_filepath:
  type: MemoryDataset

# PCA Subpipeline Datasets
imputed_vote_matrix:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/04_feature/imputed_vote_matrix.csv
  metadata:
    index_in_preview: true
    save_load_index: true

pca_components:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/05_model_input/pca_components.csv
  metadata:
    index_in_preview: true
    save_load_index: true

scaled_pca_components:
  type: kedro_polis_classic.datasets.pandas.CustomCSVDataset
  filepath: data/04_feature/scaled_pca_components.csv
  metadata:
    index_in_preview: true
    save_load_index: true

pca_scatter_fig:
  type: plotly.JSONDataset
  filepath: data/08_reporting/pca_scatter_plot.json

participant_projections:
  type: MemoryDataset

clusterable_mask:
  type: MemoryDataset

labels:
  type: MemoryDataset
